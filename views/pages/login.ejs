<!DOCTYPE html>
<html lang="en">

  <% include ../partials/header %>

  <body>
    <div class="login-container">
      <div class="login-box drop-shadow">
        <!-- ko foreach: messages -->
        <div class="alert alert-danger" style="display: none; width: 100%;" data-bind="visible: $data, text: $data"></div>
        <!-- /ko -->

        <h2 class="login-title">Login</h2>
        <form action="/api/login" method="post">
          <input name="email" type="text" class="form-control" placeholder="Email" aria-label="Email" aria-describedby="">
          <input name="password" type="text" class="form-control form-password" placeholder="Password" aria-label="Password" aria-describedby="">
          <input href="#0" type="submit" class="btn login-button">        
        </form>

        <div class="trademark">
            <p>Ian Burns 2017</p>
          </div>
      </div>
    </div>
  </body>

  <script type="text/javascript" src="/constants"></script>

  <script type="text/javascript">

    $(document).ready(function () {
      var vm = function(data) {
        var self = this;

        self.messages = ko.observable(data.messages.error || '');

        return self;
      }

      // get data from model
      var viewModel = new vm(<%- JSON.stringify(data) %>);
      ko.applyBindings(viewModel);
    });
  </script>
</html>
